
syntax = "proto3";
package auth_grpc;
import "google/protobuf/empty.proto";

enum AuthError{
    LoginAlreadyInUse = 0;
    AuthCreadsNotFound = 1;
    InvalidLogin = 2;
    InvalidPassword = 3;
}

message AuthGrpcRequest{
    string Login = 1;
    string Password = 2;
    string Ip = 3;
}

message AuthGrpcResponse{
    oneof auth_grpc_result {
        string Token = 1;
        AuthError Error = 2;
    }
}

message RegisterGrpcRequest{
    string Login = 1;
    string Password = 2;
}

message RegisterGrpcResponse{
    optional AuthError Error = 1;
}

message UpdatePasswordGrpcRequest{
    string ClientId = 1;
    string NewPassword = 2;
}

message UpdatePasswordGrpcResponse{
    optional AuthError Error = 1;
}

service AuthGrpcService {
    rpc Auth(AuthGrpcRequest) returns (AuthGrpcResponse);
    rpc Register(RegisterGrpcRequest) returns (RegisterGrpcResponse);
    rpc UpdatePassword(UpdatePasswordGrpcRequest) returns (UpdatePasswordGrpcResponse);
    rpc Ping(google.protobuf.Empty) returns (google.protobuf.Empty);
}
